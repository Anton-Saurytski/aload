<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, minimal-ui">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>aload.js: Loads asynchronously images, scripts, styles and more!</title>
    <link href="src/styles.css" rel="stylesheet">
    <link id="async-link" data-aload="src/cat.css" rel="stylesheet">
  </head>
  <body>
    <h1>aload.js</h1>
    <h2>Loads asynchronously images, scripts, styles and more!</h2>
    <ul>
      <li>
        <h3>IMG</h3>
        <button id="img">Load!</button>
        <img id="async-img" src="data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" data-aload="src/cat.jpg" width="400" height="300">
      </li>
      <li>
        <h3>Audio</h3>
        <button id="audio">Load!</button>
        <audio id="async-audio" data-aload="src/cat.mp3" controls autoplay width="400" height="300"></audio>
      </li>
      <li>
        <h3>Video</h3>
        <button id="video">Load!</button>
        <video id="async-video" data-aload="src/cats.mp4" controls autoplay width="400" height="300"></video>
      </li>
      <li>
        <h3>Iframe</h3>
        <button id="iframe">Load!</button>
        <iframe id="async-iframe" data-aload="http://www.youtube.com/embed/FdKFnOsWaSg?rel=0&autoplay=1" frameborder="0" allowfullscreen width="400" height="300"></iframe>
      </li>
      <li>
        <h3>Script</h3>
        <button id="script">Load!</button>
        <script id="async-script" data-aload="src/cat.js"></script>
      </li>
      <li>
        <h3>Style</h3>
        <button id="link">Load!</button>
      </li>
    </ul>

    <footer>
      <iframe id="twitter" allowtransparency="true" frameborder="0" width="100" height="22" scrolling="no" src="https://platform.twitter.com/widgets/tweet_button.html?text=aload.js%3A%20Loads%20asynchronously%20images%2C%20scripts%2C%20styles%20and%20more!&amp;url=https%3A%2F%2Fgithub.com%2Fpazguille%2Faload"></iframe>

      <a href="https://github.com/pazguille/aload"><img id="github-ribbon" data-aload="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>

      by <a href="http://pazguille.me/">Guille Paz</a> with <a href="http://welovefrontend.org/" class="heart">‚ù§</a>

      <iframe id="github-button" src="http://ghbtns.com/github-btn.html?user=pazguille&amp;repo=aload&amp;type=watch&amp;count=true" allowtransparency="true" frameborder="0" scrolling="0" width="152" height="30"></iframe>
    </footer>

    <script>
      /*! aload.js v1.2.2 Released under the MIT license. */function aload(t){"use strict";var e="data-aload";return t=t||window.document.querySelectorAll("["+e+"]"),void 0===t.length&&(t=[t]),[].forEach.call(t,function(t){t["LINK"!==t.tagName?"src":"href"]=t.getAttribute(e),t.removeAttribute(e)}),t}

      window.onload = function () {
        var btns = document.getElementsByTagName('button'),
            len = 6;

        aload(document.getElementById('github-ribbon'));

        function loads () {
          aload(document.getElementById('async-' + this.id ));
          this.className = 'hide';
        }

        while (len) {
          len -= 1;
          btns[len].onclick = loads;
        }
      };

    </script>
  </body>
</html>
